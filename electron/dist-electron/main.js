"use strict";const e=require("electron"),n=require("node:path"),o=n.join(__dirname,".."),s=n.join(o,"dist-electron"),c=n.join(o,".output/public"),l=process.env.VITE_DEV_SERVER_URL?n.join(o,"public"):c;function t(){const i={width:1920,height:1080,center:!0,autoHideMenuBar:!0,webPreferences:{preload:n.join(s,"preload.js"),webSecurity:!1,allowRunningInsecureContent:!0}},a=new e.BrowserWindow(i),r=process.env.VITE_DEV_SERVER_URL||n.join(l,"index.html");a.loadURL(r)}async function p(){return(await e.dialog.showOpenDialog({properties:["openDirectory"]})).filePaths}function d(){e.ipcMain.handle("app-start-time",()=>new Date().toLocaleString()),e.ipcMain.handle("app-open-file-dialog",p)}function u(){e.app.on("window-all-closed",()=>{process.platform!=="darwin"&&e.app.quit()}),e.app.whenReady().then(()=>{d(),t(),e.app.on("activate",()=>{e.BrowserWindow.getAllWindows().length===0&&t()})})}u();
