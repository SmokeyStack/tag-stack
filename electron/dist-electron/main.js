"use strict";const e=require("electron"),n=require("node:path"),t=n.join(__dirname,".."),l=n.join(t,"dist-electron"),p=n.join(t,".output/public"),s=process.env.VITE_DEV_SERVER_URL?n.join(t,"public"):p;function a(){const o={width:1920,height:1080,center:!0,autoHideMenuBar:!0,webPreferences:{preload:n.join(l,"preload.js"),webSecurity:!1,allowRunningInsecureContent:!0}},i=new e.BrowserWindow(o),r=process.env.VITE_DEV_SERVER_URL||n.join(s,"index.html");i.loadURL(r)}async function c(){return(await e.dialog.showOpenDialog({properties:["openDirectory"]})).filePaths}function u(o){e.shell.openExternal(o)}function d(){e.ipcMain.handle("app-start-time",()=>new Date().toLocaleString()),e.ipcMain.handle("app-open-file-dialog",c),e.ipcMain.handle("app-open-url",(o,i)=>u(i))}function w(){e.app.on("window-all-closed",()=>{process.platform!=="darwin"&&e.app.quit()}),e.app.whenReady().then(()=>{d(),a(),e.app.on("activate",()=>{e.BrowserWindow.getAllWindows().length===0&&a()})})}w();
